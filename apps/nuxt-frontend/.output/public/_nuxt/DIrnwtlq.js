import{g as y,j as g,k,l as f,c as r,m as o,o as d,t as _,a as v,F as j,r as E,b as P}from"#entry";import{u as R}from"./v3ZyQAlS.js";const B=y({name:"PageElementRenderer",props:{element:{type:Object,required:!0}},setup(p){const a=e=>{const s={heading:"h1",text:"p",block:"div",grid:"div",cell:"div"}[e.type]||"div",c=e.elements?.map(n=>g(h,{element:n,key:n.id}));let t;if(e.type==="heading"||e.type==="text")try{const n=e.data?.text?.desktop?.data?.text;n?t=JSON.parse(n).root.children.map(l=>l.children.map(m=>m.text).join("")).join(`
`):t=e.data?.text?.desktop?.text}catch{t=e.data?.text?.desktop?.text}return g(s,{},t||c)};return()=>a(p.element)}}),h=Object.assign(B,{__name:"PageElementRenderer"}),C={key:0},b={key:1},A={key:2},N=y({__name:"[...slug]",async setup(p){let a,e;const s=k().params.slug,c=Array.isArray(s)?"/"+s.join("/"):"/"+(s||""),{data:t,pending:n,error:i}=([a,e]=f(()=>R(`/api/page/${encodeURIComponent(c)}`,"$yCqnlWmzBQ")),a=await a,e(),a);return(l,m)=>o(n)?(d(),r("div",C,"Loading...")):o(i)?(d(),r("div",b,_(o(i).statusMessage||"Page not found"),1)):(d(),r("div",A,[v("h1",null,_(o(t).title),1),(d(!0),r(j,null,E(o(t).content.elements,u=>(d(),r("div",{key:u.id},[P(h,{element:u},null,8,["element"])]))),128))]))}});export{N as default};
