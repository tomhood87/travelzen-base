import{g as w,j as l,c as y,o as d,F as $,r as O,k as x,l as b,n as W,m as j,_ as k,p as _,w as I,d as A,t as R,q as L,a as E,s as S,v as F,x as q,y as H,z as D,b as P}from"#entry";import{u as J}from"./DYJpx7zx.js";const V=["data-id"],U=w({__name:"WebinyDocumentElement",props:{element:{}},setup(p){const s=p,i=l(()=>Array.isArray(s.element?.elements)?s.element.elements:[]);return(m,u)=>(d(),y("div",{class:"webiny-document","data-id":m.element?.id},[(d(!0),y($,null,O(i.value,r=>(d(),x(C,{key:r.id,element:r},null,8,["element"]))),128))],8,V))}}),G=Object.assign(U,{__name:"ElementsWebinyDocumentElement"}),M=w({__name:"WebinyBlockElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p,i=b(s,"element");b(s,"data"),b(s,"settings");const m=l(()=>i.value.elements||[]),u=l(()=>{const t=["flex"],o=i.value.data?.settings?.horizontalAlignFlex?.desktop;if(o){const e={"flex-start":"justify-start",center:"justify-center","flex-end":"justify-end","space-between":"justify-between","space-around":"justify-around","space-evenly":"justify-evenly"};e[o]&&t.push(e[o])}const n=i.value.data?.settings?.verticalAlign?.desktop;if(n){const e={"flex-start":"items-start",center:"items-center","flex-end":"items-end",stretch:"items-stretch"};e[n]&&t.push(e[n])}return t.join(" ")}),r=l(()=>{const t={},o=i.value.data?.settings?.width?.desktop?.value;o&&(t.width=o);const n=i.value.data?.settings?.margin?.desktop;n&&(n.all?t.margin=n.all:(n.top&&(t.marginTop=n.top),n.right&&(t.marginRight=n.right),n.bottom&&(t.marginBottom=n.bottom),n.left&&(t.marginLeft=n.left)));const e=i.value.data?.settings?.padding?.desktop;return e&&(e.all?t.padding=e.all:(e.top&&(t.paddingTop=e.top),e.right&&(t.paddingRight=e.right),e.bottom&&(t.paddingBottom=e.bottom),e.left&&(t.paddingLeft=e.left))),t});return(t,o)=>{const n=C;return d(),y("div",{class:j(["webiny-block-element",u.value]),style:W(r.value)},[(d(!0),y($,null,O(m.value,e=>(d(),x(n,{key:e.id,element:e},null,8,["element"]))),128))],6)}}}),Q=Object.assign(k(M,[["__scopeId","data-v-c8ca7c0e"]]),{__name:"ElementsWebinyBlockElement"});function K(p){const s=typeof p=="string"?JSON.parse(p):p;return{styleString:l(()=>{if(!s)return"";let m=[];return s.margin?.desktop?.all&&m.push(`margin: ${s.margin.desktop.all}`),s.padding?.desktop?.all&&m.push(`padding: ${s.padding.desktop.all}`),m.join("; ")+(m.length?";":"")})}}const X=["innerHTML"],Y=w({__name:"WebinyParagraphElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p;b(s,"element");const i=b(s,"data"),m=b(s,"settings"),{styleString:u}=K(JSON.stringify(m.value)),r=function(e){try{let a=function(h){return h.text?h.text:h.children?h.children.map(a).join(" "):""};const g=JSON.parse(e),v=JSON.parse(g.text.data.text);return a(v.root)}catch(a){return console.error("Could not extract text",a),""}},t=l(()=>r(JSON.stringify(i.value))),o=l(()=>{const n=[],e=m.value.typography;return e&&(e.align&&n.push(`text-${e.align}`),e.size&&n.push(`text-${e.size}`),e.weight&&n.push(`font-${e.weight}`)),n.join(" ")});return(n,e)=>(d(),y("p",{class:j(["webiny-paragraph-element",_(o)]),style:W(_(u)),innerHTML:_(t)},null,14,X))}}),Z=Object.assign(k(Y,[["__scopeId","data-v-25b64e49"]]),{__name:"ElementsWebinyParagraphElement"}),ee=w({__name:"WebinyHeadingElement",props:{element:{},data:{},settings:{}},setup(p){const s=p,i=b(s,"element"),m=b(s,"data"),u=b(s,"settings");function r(a){try{let g=function(h){return h?typeof h.text=="string"?h.text:Array.isArray(h.children)?h.children.map(g).join(" "):"":""};const v=JSON.parse(a);return g(v.root)}catch(g){return console.error("Failed to parse heading text",g),""}}const t=l(()=>{const a=m.value?.text?.data?.text||i.value?.data?.text?.data?.text||"";return typeof a=="string"?r(a):""}),o=l(()=>m.value?.text?.desktop?.tag||i.value?.data?.text?.desktop?.tag||"h1"),n=l(()=>{const a=[],g=m.value?.text?.desktop?.alignment||i.value?.data?.text?.desktop?.alignment;g&&a.push(`text-${g}`);const v=u.value?.typography||i.value?.data?.settings?.typography;return v?.size&&a.push(`text-${v.size}`),v?.weight&&a.push(`font-${v.weight}`),a.join(" ")}),e=l(()=>{const a={},g=u.value?.typography||i.value?.data?.settings?.typography;return g?.color&&(a.color=g.color),g?.lineHeight&&(a.lineHeight=String(g.lineHeight)),a});return(a,g)=>(d(),x(L(o.value),{class:j(["webiny-heading-element",n.value]),style:W(e.value)},{default:I(()=>[A(R(t.value),1)]),_:1},8,["class","style"]))}}),te=Object.assign(k(ee,[["__scopeId","data-v-05d0663a"]]),{__name:"ElementsWebinyHeadingElement"}),ne=["src","alt","title"],se={key:1,class:"webiny-image-placeholder"},ae=w({__name:"WebinyImageElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p,i=b(s,"element"),m=b(s,"data"),u=b(s,"settings"),r=l(()=>i.value.data?.image||m.value.image||null),t=l(()=>r.value?r.value.file?.src?r.value.file.src:typeof r.value=="string"?r.value:r.value.src?r.value.src:r.value.url?r.value.url:null:null),o=l(()=>r.value?.alt||""),n=l(()=>r.value?.title||""),e=l(()=>{const c=[],f=i.value.data?.settings?.horizontalAlignFlex?.desktop;return f&&c.push(`text-${f}`),c.join(" ")}),a=l(()=>{const c=["webiny-image"];return u.value.width==="full"&&c.push("w-full"),u.value.rounded&&c.push("rounded-lg"),c.join(" ")}),g=l(()=>{const c={};return u.value.width&&u.value.width!=="full"&&(c.width=u.value.width),u.value.height&&(c.height=u.value.height),u.value.objectFit&&(c.objectFit=u.value.objectFit),c}),v=()=>{console.log("Image loaded successfully")},h=()=>{console.error("Failed to load image:",t.value)};return(c,f)=>(d(),y("div",{class:j(["webiny-image-element",e.value])},[t.value?(d(),y("img",{key:0,src:t.value,alt:o.value,title:n.value,class:j([a.value,"img-fluid"]),style:W(g.value),onLoad:v,onError:h},null,46,ne)):(d(),y("div",se,[...f[0]||(f[0]=[E("div",{class:"text-neutral-400 text-sm"},"No image available",-1)])]))],2))}}),ie=Object.assign(k(ae,[["__scopeId","data-v-47f9ec61"]]),{__name:"ElementsWebinyImageElement"}),le=w({__name:"WebinyGridElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p,i=b(s,"element");b(s,"data"),b(s,"settings");const m=l(()=>i.value.elements||[]),u=l(()=>{const t=["grid"];t.push("gap-4");const o=i.value.data?.settings?.horizontalAlignFlex?.desktop,n=i.value.data?.settings?.verticalAlign?.desktop;if(o){const e={"flex-start":"justify-start",center:"justify-center","flex-end":"justify-end","space-between":"justify-between"};e[o]&&t.push(e[o])}if(n){const e={"flex-start":"items-start",center:"items-center","flex-end":"items-end",stretch:"items-stretch"};e[n]&&t.push(e[n])}return t.join(" ")}),r=l(()=>{const t={},o=i.value.data?.settings,n=o?.width?.desktop?.value;n&&(t.width=n);const e=o?.margin?.desktop;e&&(e.all?t.margin=e.all:(e.top&&(t.marginTop=e.top),e.right&&(t.marginRight=e.right),e.bottom&&(t.marginBottom=e.bottom),e.left&&(t.marginLeft=e.left)));const a=o?.padding?.desktop;a&&(a.all?t.padding=a.all:(a.top&&(t.paddingTop=a.top),a.right&&(t.paddingRight=a.right),a.bottom&&(t.paddingBottom=a.bottom),a.left&&(t.paddingLeft=a.left)));const g=o?.gridSettings?.desktop?.flexDirection;return g&&(t.flexDirection=g),t});return(t,o)=>{const n=C;return d(),y("div",{class:j(["webiny-grid-element",u.value]),style:W(r.value)},[(d(!0),y($,null,O(m.value,e=>(d(),x(n,{key:e.id,element:e},null,8,["element"]))),128))],6)}}}),re=Object.assign(k(le,[["__scopeId","data-v-9441fe3a"]]),{__name:"ElementsWebinyGridElement"}),oe=w({__name:"WebinyCellElement",props:{element:{type:Object,required:!0}},setup(p){const i=b(p,"element"),m=l(()=>i.value.elements||[]),u=l(()=>{const t=["webiny-cell-element"],o=i.value.data?.settings?.grid?.size;o&&(t.push(`col-${o}`),t.push(`basis-${o/12*100}`));const n=i.value.data?.settings?.horizontalAlignFlex?.desktop;if(n){const e={"flex-start":"justify-start",center:"justify-center","flex-end":"justify-end"};e[n]&&t.push(e[n])}return t.join(" ")}),r=l(()=>{const t={},o=i.value.data?.settings?.margin?.desktop;o&&(o.all?t.margin=o.all:(o.top&&(t.marginTop=o.top),o.right&&(t.marginRight=o.right),o.bottom&&(t.marginBottom=o.bottom),o.left&&(t.marginLeft=o.left)));const n=i.value.data?.settings?.padding?.desktop;return n&&(n.all?t.padding=n.all:(n.top&&(t.paddingTop=n.top),n.right&&(t.paddingRight=n.right),n.bottom&&(t.paddingBottom=n.bottom),n.left&&(t.paddingLeft=n.left))),t});return(t,o)=>{const n=C;return d(),y("div",{class:j(u.value),style:W(r.value)},[(d(!0),y($,null,O(m.value,e=>(d(),x(n,{key:e.id,element:e},null,8,["element"]))),128))],6)}}}),ce=Object.assign(k(oe,[["__scopeId","data-v-16693d28"]]),{__name:"ElementsWebinyCellElement"}),ue=w({__name:"WebinyButtonElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p,i=b(s,"element");b(s,"data"),b(s,"settings");const m=l(()=>s.data.buttonText||i.value.data?.buttonText||"Button"),u=l(()=>s.data.action||i.value.data?.action||{}),r=l(()=>{const c=u.value;return c.type==="link"||c.type==="page"?c.url&&(c.url.startsWith("/")||c.url.startsWith("#"))?"NuxtLink":"a":"button"}),t=l(()=>{const c=u.value;return r.value==="NuxtLink"?c.url||"/":null}),o=l(()=>{const c=u.value;return r.value==="a"?c.url||"#":null}),n=l(()=>u.value.newTab?"_blank":null),e=l(()=>{const c=i.value.data?.settings?.horizontalAlignFlex?.desktop,f={"flex-start":"justify-start",center:"justify-center","flex-end":"justify-end"};return c&&f[c]?f[c]:""}),a=l(()=>{const c={},f=i.value.data?.settings?.margin?.desktop;return f&&(f.all?c.margin=f.all:(f.top&&(c.marginTop=f.top),f.right&&(c.marginRight=f.right),f.bottom&&(c.marginBottom=f.bottom),f.left&&(c.marginLeft=f.left))),c}),g=l(()=>{const c=["webiny-button","inline-flex","items-center","justify-center","rounded-lg","font-medium","transition-colors","focus:outline-none","focus:ring-2","focus:ring-offset-2"],f=s.settings.size||"md",T={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"};c.push(T[f]||T.md);const N=s.settings.variant||i.value.data?.type||"primary",z={default:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-neutral-200 text-neutral-900 hover:bg-neutral-300 focus:ring-neutral-500",outline:"border border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-primary-600 hover:bg-primary-50 focus:ring-primary-500"};return c.push(z[N]||z.primary),c.join(" ")}),v=l(()=>{const c={};return s.settings.backgroundColor&&(c.backgroundColor=s.settings.backgroundColor),s.settings.textColor&&(c.color=s.settings.textColor),s.settings.borderColor&&(c.borderColor=s.settings.borderColor),c}),h=c=>{const f=u.value;if(f.type==="script"&&f.script)try{new Function(f.script)()}catch(T){console.error("Button script execution failed:",T)}};return(c,f)=>(d(),y("div",{class:j(["webiny-button-element",e.value]),style:W(a.value)},[(d(),x(L(r.value),{to:t.value,href:o.value,target:n.value,class:j(g.value),style:W(v.value),onClick:h},{default:I(()=>[A(R(m.value),1)]),_:1},8,["to","href","target","class","style"]))],6))}}),de=Object.assign(k(ue,[["__scopeId","data-v-7d23049e"]]),{__name:"ElementsWebinyButtonElement"}),me={class:"webiny-unknown-element bg-neutral-100 border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center"},pe={class:"text-neutral-600 text-sm"},ge={class:"text-xs"},fe={__name:"ElementsWebinyUnknownElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p;b(s,"element"),b(s,"data"),b(s,"settings");const i=l(()=>s?.element?.type||"unknown");return l(()=>JSON.stringify(s.element,null,2)),(m,u)=>(d(),y("div",me,[E("div",pe,[u[0]||(u[0]=E("p",{class:"font-medium mb-1"},"Unknown Element Type",-1)),E("p",ge,"Type: "+R(_(i)),1)])]))}},ye=k(fe,[["__scopeId","data-v-5b552f9f"]]),be={__name:"WebinyElementRenderer",props:{element:{type:Object,required:!0},isRoot:{type:Boolean,default:!1}},setup(p){const s=p,i=l(()=>{if(!s.element)return!1;const a=s.element.data?.settings?.visibility;return!(a===!1||a==="hidden")}),m={document:G,block:Q,paragraph:Z,heading:te,button:de,image:ie,grid:re,cell:ce},u=l(()=>{const a=s?.element?.type||"unknown";return m[a]||ye}),r=l(()=>s.element.data?.settings||{}),t=l(()=>s.element.data||{}),o=l(()=>{const a=["webiny-pb-element",`webiny-element-${s.element.type}`];return r.value.className&&a.push(r.value.className),r.value.margin&&a.push(`margin-${r.value.margin}`),r.value.padding&&a.push(`padding-${r.value.padding}`),a.join(" ")}),n=l(()=>{const a={};if(r.value.background){const g=r.value.background;g.color&&(a.backgroundColor=g.color),g.image&&(a.backgroundImage=`url(${g.image.src})`,a.backgroundSize=g.image.sizing||"cover",a.backgroundPosition=g.image.position||"center")}return r.value.width&&(a.width=r.value.width),r.value.height&&(a.height=r.value.height),r.value.css&&Object.assign(a,r.value.css),a}),e=l(()=>({element:s.element,data:t.value,settings:r.value}));return(a,g)=>i.value?(d(),y("div",{key:0,class:j(o.value),style:W(n.value)},[(d(),x(L(u.value),F(q(e.value)),null,16))],6)):S("",!0)}},C=k(be,[["__scopeId","data-v-c45c64a2"]]),he={class:"webiny-static-layout"},ve={__name:"WebinyStaticLayout",props:{content:{type:Object,required:!0},settings:{type:Object,default:()=>({})}},setup(p){return(s,i)=>{const m=C;return d(),y("div",he,[p.content?(d(),x(m,{key:0,element:p.content,"is-root":!0},null,8,["element"])):S("",!0)])}}},B=k(ve,[["__scopeId","data-v-dad6de17"]]),_e={class:"webiny-default-layout"},xe={key:0,class:"webiny-layout-header"},ke={class:"webiny-layout-main"},je={key:1,class:"webiny-layout-footer"},we={__name:"WebinyDefaultLayout",props:{content:{type:Object,required:!0},settings:{type:Object,default:()=>({})}},setup(p){const s=p,i=l(()=>s.settings?.layout?.header?.elements||[]),m=l(()=>s.settings?.layout?.footer?.elements||[]),u=l(()=>i.value.length>0),r=l(()=>m.value.length>0);return(t,o)=>{const n=C;return d(),y("div",_e,[_(u)?(d(),y("header",xe,[(d(!0),y($,null,O(_(i),e=>(d(),x(n,{key:e.id,element:e},null,8,["element"]))),128))])):S("",!0),E("main",ke,[p.content?(d(),x(n,{key:0,element:p.content,"is-root":!0},null,8,["element"])):S("",!0)]),_(r)?(d(),y("footer",je,[(d(!0),y($,null,O(_(m),e=>(d(),x(n,{key:e.id,element:e},null,8,["element"]))),128))])):S("",!0)])}}},Ee=k(we,[["__scopeId","data-v-48694d7a"]]),We=w({__name:"WebinyLayoutRenderer",props:{layout:{},content:{},settings:{}},setup(p){const s=p,i={static:B,default:Ee},m=l(()=>{const u=(s.layout||"static").toLowerCase();return i[u]||B});return(u,r)=>(d(),x(L(m.value),{content:u.content,settings:u.settings},null,8,["content","settings"]))}}),$e=Object.assign(We,{__name:"WebinyLayoutRenderer"}),Oe={key:0,class:"flex items-center justify-center min-h-screen"},Ce={key:1,class:"webiny-pb-layout"},Se={key:2,class:"flex items-center justify-center min-h-screen"},Re=w({__name:"[...slug]",async setup(p){let s,i;const u=H().params.slug,r=Array.isArray(u)?"/"+u.join("/"):"/"+(u||""),t=l(()=>r),o=l(()=>n.value?.settings?.general?.layout?n.value.settings.general.layout:"static"),{data:n,pending:e,error:a,refresh:g}=([s,i]=D(()=>J(`/api/page/${encodeURIComponent(t.value)}`,"$yCqnlWmzBQ")),s=await s,i(),s);return(v,h)=>{const c=$e;return _(e)?(d(),y("div",Oe,[...h[0]||(h[0]=[E("div",{class:"text-lg text-neutral-600"},"Loading page...",-1)])])):_(n)?(d(),y("div",Ce,[P(c,{layout:_(o),content:_(n).content,settings:_(n).settings},null,8,["layout","content","settings"])])):(d(),y("div",Se,[...h[1]||(h[1]=[E("div",{class:"text-center"},[E("h1",{class:"text-2xl font-bold text-neutral-900 mb-2"},"Page Not Found"),E("p",{class:"text-neutral-600"},"The requested page could not be loaded.")],-1)])]))}}});export{Re as default};
