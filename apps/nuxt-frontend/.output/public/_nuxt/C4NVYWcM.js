import{g as E,j as o,c as y,o as d,F as O,r as C,k,l as v,a as b,t as $,n as W,m as w,_ as j,p as _,w as I,d as A,q as B,s as T,v as D,x as F,y as q,z as H,b as P}from"#entry";import{u as J}from"./DYJpx7zx.js";const V=["data-id"],G=E({__name:"WebinyDocumentElement",props:{element:{}},setup(p){const s=p,l=o(()=>Array.isArray(s.element?.elements)?s.element.elements:[]);return(m,c)=>(d(),y("div",{class:"webiny-document","data-id":m.element?.id},[(d(!0),y(O,null,C(l.value,r=>(d(),k(S,{key:r.id,element:r},null,8,["element"]))),128))],8,V))}}),U=Object.assign(G,{__name:"ElementsWebinyDocumentElement"}),M=E({__name:"WebinyBlockElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p,l=v(s,"element");v(s,"data"),v(s,"settings");const m=o(()=>l.value.elements||[]),c=o(()=>{const t=["flex"],i=l.value.data?.settings?.horizontalAlignFlex?.desktop;if(i){const e={"flex-start":"justify-start",center:"justify-center","flex-end":"justify-end","space-between":"justify-between","space-around":"justify-around","space-evenly":"justify-evenly"};e[i]&&t.push(e[i])}const n=l.value.data?.settings?.verticalAlign?.desktop;if(n){const e={"flex-start":"items-start",center:"items-center","flex-end":"items-end",stretch:"items-stretch"};e[n]&&t.push(e[n])}return t.join(" ")}),r=o(()=>{const t={},i=l.value.data?.settings?.width?.desktop?.value;i&&(t.width=i);const n=l.value.data?.settings?.margin?.desktop;n&&(n.all?t.margin=n.all:(n.top&&(t.marginTop=n.top),n.right&&(t.marginRight=n.right),n.bottom&&(t.marginBottom=n.bottom),n.left&&(t.marginLeft=n.left)));const e=l.value.data?.settings?.padding?.desktop;return e&&(e.all?t.padding=e.all:(e.top&&(t.paddingTop=e.top),e.right&&(t.paddingRight=e.right),e.bottom&&(t.paddingBottom=e.bottom),e.left&&(t.paddingLeft=e.left))),t});return(t,i)=>{const n=S;return d(),y("div",{class:w(["webiny-block-element",c.value]),style:W(r.value)},[(d(!0),y(O,null,C(m.value,e=>(d(),k(n,{key:e.id,element:e},null,8,["element"]))),128)),b("details",null,[i[0]||(i[0]=b("summary",null,"Block Debug",-1)),b("pre",null,$(l.value),1)])],6)}}}),Q=Object.assign(j(M,[["__scopeId","data-v-58fedcc8"]]),{__name:"ElementsWebinyBlockElement"});function K(p){const s=typeof p=="string"?JSON.parse(p):p;return{styleString:o(()=>{if(!s)return"";let m=[];return s.margin?.desktop?.all&&m.push(`margin: ${s.margin.desktop.all}`),s.padding?.desktop?.all&&m.push(`padding: ${s.padding.desktop.all}`),m.join("; ")+(m.length?";":"")})}}const X=["innerHTML"],Y=E({__name:"WebinyParagraphElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p;v(s,"element");const l=v(s,"data"),m=v(s,"settings"),{styleString:c}=K(JSON.stringify(m.value)),r=function(e){try{let a=function(h){return h.text?h.text:h.children?h.children.map(a).join(" "):""};const g=JSON.parse(e),x=JSON.parse(g.text.data.text);return a(x.root)}catch(a){return console.error("Could not extract text",a),""}},t=o(()=>r(JSON.stringify(l.value))),i=o(()=>{const n=[],e=m.value.typography;return e&&(e.align&&n.push(`text-${e.align}`),e.size&&n.push(`text-${e.size}`),e.weight&&n.push(`font-${e.weight}`)),n.join(" ")});return(n,e)=>(d(),y("p",{class:w(["webiny-paragraph-element",_(i)]),style:W(_(c)),innerHTML:_(t)},null,14,X))}}),Z=Object.assign(j(Y,[["__scopeId","data-v-25b64e49"]]),{__name:"ElementsWebinyParagraphElement"}),ee=E({__name:"WebinyHeadingElement",props:{element:{},data:{},settings:{}},setup(p){const s=p,l=v(s,"element"),m=v(s,"data"),c=v(s,"settings");function r(a){try{let g=function(h){return h?typeof h.text=="string"?h.text:Array.isArray(h.children)?h.children.map(g).join(" "):"":""};const x=JSON.parse(a);return g(x.root)}catch(g){return console.error("Failed to parse heading text",g),""}}const t=o(()=>{const a=m.value?.text?.data?.text||l.value?.data?.text?.data?.text||"";return typeof a=="string"?r(a):""}),i=o(()=>m.value?.text?.desktop?.tag||l.value?.data?.text?.desktop?.tag||"h1"),n=o(()=>{const a=[],g=m.value?.text?.desktop?.alignment||l.value?.data?.text?.desktop?.alignment;g&&a.push(`text-${g}`);const x=c.value?.typography||l.value?.data?.settings?.typography;return x?.size&&a.push(`text-${x.size}`),x?.weight&&a.push(`font-${x.weight}`),a.join(" ")}),e=o(()=>{const a={},g=c.value?.typography||l.value?.data?.settings?.typography;return g?.color&&(a.color=g.color),g?.lineHeight&&(a.lineHeight=String(g.lineHeight)),a});return(a,g)=>(d(),y(O,null,[(d(),k(B(i.value),{class:w(["webiny-heading-element",n.value]),style:W(e.value)},{default:I(()=>[A($(t.value),1)]),_:1},8,["class","style"])),b("details",null,[g[0]||(g[0]=b("summary",null,"Element Debug",-1)),b("pre",null,$(l.value),1)])],64))}}),te=Object.assign(j(ee,[["__scopeId","data-v-514eb1a0"]]),{__name:"ElementsWebinyHeadingElement"}),ne=["src","alt","title"],se={key:1,class:"webiny-image-placeholder"},ae=E({__name:"WebinyImageElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p,l=v(s,"element"),m=v(s,"data"),c=v(s,"settings"),r=o(()=>l.value.data?.image||m.value.image||null),t=o(()=>r.value?r.value.file?.src?r.value.file.src:typeof r.value=="string"?r.value:r.value.src?r.value.src:r.value.url?r.value.url:null:null),i=o(()=>r.value?.alt||""),n=o(()=>r.value?.title||""),e=o(()=>{const u=[],f=l.value.data?.settings?.horizontalAlignFlex?.desktop;return f&&u.push(`text-${f}`),u.join(" ")}),a=o(()=>{const u=["webiny-image"];return c.value.width==="full"&&u.push("w-full"),c.value.rounded&&u.push("rounded-lg"),u.join(" ")}),g=o(()=>{const u={};return c.value.width&&c.value.width!=="full"&&(u.width=c.value.width),c.value.height&&(u.height=c.value.height),c.value.objectFit&&(u.objectFit=c.value.objectFit),u}),x=()=>{console.log("Image loaded successfully")},h=()=>{console.error("Failed to load image:",t.value)};return(u,f)=>(d(),y("div",{class:w(["webiny-image-element",e.value])},[t.value?(d(),y("img",{key:0,src:t.value,alt:i.value,title:n.value,class:w([a.value,"img-fluid"]),style:W(g.value),onLoad:x,onError:h},null,46,ne)):(d(),y("div",se,[...f[0]||(f[0]=[b("div",{class:"text-neutral-400 text-sm"},"No image available",-1)])]))],2))}}),le=Object.assign(j(ae,[["__scopeId","data-v-47f9ec61"]]),{__name:"ElementsWebinyImageElement"}),re=E({__name:"WebinyGridElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p,l=v(s,"element");v(s,"data"),v(s,"settings");const m=o(()=>l.value.elements||[]),c=o(()=>{const t=["grid"];t.push("gap-4");const i=l.value.data?.settings?.horizontalAlignFlex?.desktop,n=l.value.data?.settings?.verticalAlign?.desktop;if(i){const e={"flex-start":"justify-start",center:"justify-center","flex-end":"justify-end","space-between":"justify-between"};e[i]&&t.push(e[i])}if(n){const e={"flex-start":"items-start",center:"items-center","flex-end":"items-end",stretch:"items-stretch"};e[n]&&t.push(e[n])}return t.join(" ")}),r=o(()=>{const t={},i=l.value.data?.settings,n=i?.width?.desktop?.value;n&&(t.width=n);const e=i?.margin?.desktop;e&&(e.all?t.margin=e.all:(e.top&&(t.marginTop=e.top),e.right&&(t.marginRight=e.right),e.bottom&&(t.marginBottom=e.bottom),e.left&&(t.marginLeft=e.left)));const a=i?.padding?.desktop;a&&(a.all?t.padding=a.all:(a.top&&(t.paddingTop=a.top),a.right&&(t.paddingRight=a.right),a.bottom&&(t.paddingBottom=a.bottom),a.left&&(t.paddingLeft=a.left)));const g=i?.gridSettings?.desktop?.flexDirection;return g&&(t.flexDirection=g),t});return(t,i)=>{const n=S;return d(),y("div",{class:w(["webiny-grid-element",c.value]),style:W(r.value)},[(d(!0),y(O,null,C(m.value,e=>(d(),k(n,{key:e.id,element:e},null,8,["element"]))),128)),b("details",null,[i[0]||(i[0]=b("summary",null,"Grid Debug",-1)),b("pre",null,$(l.value),1)])],6)}}}),ie=Object.assign(j(re,[["__scopeId","data-v-eba45359"]]),{__name:"ElementsWebinyGridElement"}),oe=E({__name:"WebinyCellElement",props:{element:{type:Object,required:!0}},setup(p){const l=v(p,"element"),m=o(()=>l.value.elements||[]),c=o(()=>{const t=["webiny-cell-element"],i=l.value.data?.settings?.grid?.size;i&&(t.push(`col-${i}`),t.push(`basis-${i/12*100}`));const n=l.value.data?.settings?.horizontalAlignFlex?.desktop;if(n){const e={"flex-start":"justify-start",center:"justify-center","flex-end":"justify-end"};e[n]&&t.push(e[n])}return t.join(" ")}),r=o(()=>{const t={},i=l.value.data?.settings?.margin?.desktop;i&&(i.all?t.margin=i.all:(i.top&&(t.marginTop=i.top),i.right&&(t.marginRight=i.right),i.bottom&&(t.marginBottom=i.bottom),i.left&&(t.marginLeft=i.left)));const n=l.value.data?.settings?.padding?.desktop;return n&&(n.all?t.padding=n.all:(n.top&&(t.paddingTop=n.top),n.right&&(t.paddingRight=n.right),n.bottom&&(t.paddingBottom=n.bottom),n.left&&(t.paddingLeft=n.left))),t});return(t,i)=>{const n=S;return d(),y("div",{class:w(c.value),style:W(r.value)},[(d(!0),y(O,null,C(m.value,e=>(d(),k(n,{key:e.id,element:e},null,8,["element"]))),128))],6)}}}),ue=Object.assign(j(oe,[["__scopeId","data-v-16693d28"]]),{__name:"ElementsWebinyCellElement"}),ce=E({__name:"WebinyButtonElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p,l=v(s,"element");v(s,"data"),v(s,"settings");const m=o(()=>s.data.buttonText||l.value.data?.buttonText||"Button"),c=o(()=>s.data.action||l.value.data?.action||{}),r=o(()=>{const u=c.value;return u.type==="link"||u.type==="page"?u.url&&(u.url.startsWith("/")||u.url.startsWith("#"))?"NuxtLink":"a":"button"}),t=o(()=>{const u=c.value;return r.value==="NuxtLink"?u.url||"/":null}),i=o(()=>{const u=c.value;return r.value==="a"?u.url||"#":null}),n=o(()=>c.value.newTab?"_blank":null),e=o(()=>{const u=l.value.data?.settings?.horizontalAlignFlex?.desktop,f={"flex-start":"justify-start",center:"justify-center","flex-end":"justify-end"};return u&&f[u]?f[u]:""}),a=o(()=>{const u={},f=l.value.data?.settings?.margin?.desktop;return f&&(f.all?u.margin=f.all:(f.top&&(u.marginTop=f.top),f.right&&(u.marginRight=f.right),f.bottom&&(u.marginBottom=f.bottom),f.left&&(u.marginLeft=f.left))),u}),g=o(()=>{const u=["webiny-button","inline-flex","items-center","justify-center","rounded-lg","font-medium","transition-colors","focus:outline-none","focus:ring-2","focus:ring-offset-2"],f=s.settings.size||"md",L={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"};u.push(L[f]||L.md);const N=s.settings.variant||l.value.data?.type||"primary",R={default:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-neutral-200 text-neutral-900 hover:bg-neutral-300 focus:ring-neutral-500",outline:"border border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-primary-600 hover:bg-primary-50 focus:ring-primary-500"};return u.push(R[N]||R.primary),u.join(" ")}),x=o(()=>{const u={};return s.settings.backgroundColor&&(u.backgroundColor=s.settings.backgroundColor),s.settings.textColor&&(u.color=s.settings.textColor),s.settings.borderColor&&(u.borderColor=s.settings.borderColor),u}),h=u=>{const f=c.value;if(f.type==="script"&&f.script)try{new Function(f.script)()}catch(L){console.error("Button script execution failed:",L)}};return(u,f)=>(d(),y("div",{class:w(["webiny-button-element",e.value]),style:W(a.value)},[(d(),k(B(r.value),{to:t.value,href:i.value,target:n.value,class:w(g.value),style:W(x.value),onClick:h},{default:I(()=>[A($(m.value),1)]),_:1},8,["to","href","target","class","style"])),b("details",null,[f[0]||(f[0]=b("summary",null,"Button Debug",-1)),b("pre",null,$(l.value),1)])],6))}}),de=Object.assign(j(ce,[["__scopeId","data-v-cb87f59d"]]),{__name:"ElementsWebinyButtonElement"}),me={class:"webiny-unknown-element bg-neutral-100 border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center"},pe={class:"text-neutral-600 text-sm"},ge={class:"text-xs"},fe={class:"mt-2 text-left"},ye={class:"mt-1 text-xs bg-neutral-50 p-2 rounded overflow-auto"},be={__name:"ElementsWebinyUnknownElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})},settings:{type:Object,default:()=>({})}},setup(p){const s=p;v(s,"element"),v(s,"data"),v(s,"settings");const l=o(()=>s?.element?.type||"unknown"),m=o(()=>JSON.stringify(s.element,null,2));return(c,r)=>(d(),y("div",me,[b("div",pe,[r[1]||(r[1]=b("p",{class:"font-medium mb-1"},"Unknown Element Type",-1)),b("p",ge,"Type: "+$(_(l)),1),b("details",fe,[r[0]||(r[0]=b("summary",{class:"cursor-pointer text-xs font-medium"},"Element Data",-1)),b("pre",ye,$(_(m)),1)])])]))}},ve=j(be,[["__scopeId","data-v-ba52d6ea"]]),he={__name:"WebinyElementRenderer",props:{element:{type:Object,required:!0},isRoot:{type:Boolean,default:!1}},setup(p){const s=p,l=o(()=>{if(!s.element)return!1;const a=s.element.data?.settings?.visibility;return!(a===!1||a==="hidden")}),m={document:U,block:Q,paragraph:Z,heading:te,button:de,image:le,grid:ie,cell:ue},c=o(()=>{const a=s?.element?.type||"unknown";return m[a]||ve}),r=o(()=>s.element.data?.settings||{}),t=o(()=>s.element.data||{}),i=o(()=>{const a=["webiny-pb-element",`webiny-element-${s.element.type}`];return r.value.className&&a.push(r.value.className),r.value.margin&&a.push(`margin-${r.value.margin}`),r.value.padding&&a.push(`padding-${r.value.padding}`),a.join(" ")}),n=o(()=>{const a={};if(r.value.background){const g=r.value.background;g.color&&(a.backgroundColor=g.color),g.image&&(a.backgroundImage=`url(${g.image.src})`,a.backgroundSize=g.image.sizing||"cover",a.backgroundPosition=g.image.position||"center")}return r.value.width&&(a.width=r.value.width),r.value.height&&(a.height=r.value.height),r.value.css&&Object.assign(a,r.value.css),a}),e=o(()=>({element:s.element,data:t.value,settings:r.value}));return(a,g)=>l.value?(d(),y("div",{key:0,class:w(i.value),style:W(n.value)},[(d(),k(B(c.value),D(F(e.value)),null,16))],6)):T("",!0)}},S=j(he,[["__scopeId","data-v-c45c64a2"]]),_e={class:"webiny-static-layout"},xe={__name:"WebinyStaticLayout",props:{content:{type:Object,required:!0},settings:{type:Object,default:()=>({})}},setup(p){return(s,l)=>{const m=S;return d(),y("div",_e,[p.content?(d(),k(m,{key:0,element:p.content,"is-root":!0},null,8,["element"])):T("",!0)])}}},z=j(xe,[["__scopeId","data-v-dad6de17"]]),ke={class:"webiny-default-layout"},je={key:0,class:"webiny-layout-header"},we={class:"webiny-layout-main"},Ee={key:1,class:"webiny-layout-footer"},We={__name:"WebinyDefaultLayout",props:{content:{type:Object,required:!0},settings:{type:Object,default:()=>({})}},setup(p){const s=p,l=o(()=>s.settings?.layout?.header?.elements||[]),m=o(()=>s.settings?.layout?.footer?.elements||[]),c=o(()=>l.value.length>0),r=o(()=>m.value.length>0);return(t,i)=>{const n=S;return d(),y("div",ke,[_(c)?(d(),y("header",je,[(d(!0),y(O,null,C(_(l),e=>(d(),k(n,{key:e.id,element:e},null,8,["element"]))),128))])):T("",!0),b("main",we,[p.content?(d(),k(n,{key:0,element:p.content,"is-root":!0},null,8,["element"])):T("",!0)]),_(r)?(d(),y("footer",Ee,[(d(!0),y(O,null,C(_(m),e=>(d(),k(n,{key:e.id,element:e},null,8,["element"]))),128))])):T("",!0)])}}},$e=j(We,[["__scopeId","data-v-48694d7a"]]),Oe=E({__name:"WebinyLayoutRenderer",props:{layout:{},content:{},settings:{}},setup(p){const s=p,l={static:z,default:$e},m=o(()=>{const c=(s.layout||"static").toLowerCase();return l[c]||z});return(c,r)=>(d(),k(B(m.value),{content:c.content,settings:c.settings},null,8,["content","settings"]))}}),Ce=Object.assign(Oe,{__name:"WebinyLayoutRenderer"}),Se={key:0,class:"flex items-center justify-center min-h-screen"},Te={key:1,class:"webiny-pb-layout"},Le={key:2,class:"flex items-center justify-center min-h-screen"},ze=E({__name:"[...slug]",async setup(p){let s,l;const c=q().params.slug,r=Array.isArray(c)?"/"+c.join("/"):"/"+(c||""),t=o(()=>r),i=o(()=>n.value?.settings?.general?.layout?n.value.settings.general.layout:"static"),{data:n,pending:e,error:a,refresh:g}=([s,l]=H(()=>J(`/api/page/${encodeURIComponent(t.value)}`,"$yCqnlWmzBQ")),s=await s,l(),s);return(x,h)=>{const u=Ce;return _(e)?(d(),y("div",Se,[...h[0]||(h[0]=[b("div",{class:"text-lg text-neutral-600"},"Loading page...",-1)])])):_(n)?(d(),y("div",Te,[P(u,{layout:_(i),content:_(n).content,settings:_(n).settings},null,8,["layout","content","settings"])])):(d(),y("div",Le,[...h[1]||(h[1]=[b("div",{class:"text-center"},[b("h1",{class:"text-2xl font-bold text-neutral-900 mb-2"},"Page Not Found"),b("p",{class:"text-neutral-600"},"The requested page could not be loaded.")],-1)])]))}}});export{ze as default};
